# test.py
import cv2
import numpy as np

# üîß –£–ö–ê–ñ–ò–¢–ï –†–ï–ê–õ–¨–ù–û–ï –ò–ú–Ø –§–ê–ô–õ–ê!
filename = "HT-SUA501GC-T1V-C-Snapshot-20250823-133106-963-442298838717.BMP"
img = cv2.imread(f"input_images/{filename}")

if img is None:
    print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è —Ñ–∞–π–ª–∞.")
else:
    hsv = cv2.cvtColor(img, cv2.COLOR_BGR2HSV)

    # –í—ã–≤–æ–¥–∏–º —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    h, w = img.shape[:2]
    print(f"–†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {w} x {h}")

    # –í–æ–∑—å–º—ë–º —Ç–æ—á–∫—É –≤ —Ü–µ–Ω—Ç—Ä–µ —Ñ–æ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ—Ä—Ö–Ω–∏–π –ª–µ–≤—ã–π —É–≥–æ–ª)
    # –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –≤—Ä—É—á–Ω—É—é
    x, y = 100, 100  # ‚Üê –∏–∑–º–µ–Ω–∏—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

    # –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Ç–æ—á–∫–∞ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    if y < h and x < w:
        H, S, V = hsv[y, x]
        print(f"HSV –≤ —Ç–æ—á–∫–µ ({x}, {y}): H={H}, S={S}, V={V}")
    else:
        print("‚ùå –£–∫–∞–∑–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞ –≤–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è")

    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–∞–Ω–∞–ª—ã –∫–∞–∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è ‚Äî –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–µ
    cv2.imwrite("debug_hue.jpg", hsv[:, :, 0])
    cv2.imwrite("debug_saturation.jpg", hsv[:, :, 1])
    cv2.imwrite("debug_value.jpg", hsv[:, :, 2])

    print("‚úÖ –ö–∞–Ω–∞–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–∞–∫ debug_hue.jpg, debug_saturation.jpg, debug_value.jpg")
    print("–û—Ç–∫—Ä–æ–π—Ç–µ –∏—Ö –≤ –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç '–ü–∏–ø–µ—Ç–∫–∞' –≤ Paint –∏–ª–∏ Photoshop,")
    print("—á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è H, S, V –Ω–∞ —Ñ–æ–Ω–µ.")