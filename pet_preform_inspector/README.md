
---

# üè≠ PET Preform Inspector

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–µ—Ñ–æ—Ä–º PET —Å –ø–æ–º–æ—â—å—é –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è.

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ –æ—Ü–µ–Ω–∫–∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –ø—Ä–µ—Ñ–æ—Ä–º PET (–¥–ª–∏–Ω–∞, —à–∏—Ä–∏–Ω–∞, –¥–∏–∞–º–µ—Ç—Ä –¥–Ω–∞) –∏ **–ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ –æ—Å–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**:
- **–ü—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å (`S`)** ‚Äî **—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** (–≤–∫–ª—é—á–∞—è `S_max` –∏ `S_rms`, —Å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –≥–æ—Ä–ª—ã—à–∫–∞).
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –¥–æ–ø—É—Å–∫–∞–º, –∏–∑–º–µ—Ä–µ–Ω–∏–µ –¥–∏–∞–º–µ—Ç—Ä–∞ –≥–æ—Ä–ª–æ–≤–∏–Ω—ã (`I`) –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤ **–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã**.
- –í–µ—Ä–¥–∏–∫—Ç –≤—Å–µ–≥–¥–∞ `"–í –ø—Ä–æ—Ü–µ—Å—Å–µ"` –∏–ª–∏ `"–û—Ç–±—Ä–∞–∫–æ–≤–∞–Ω–æ"` (–ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –≤–∞–ª–∏–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞).

## üß† –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

*   **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ BMP, JPG, PNG.
*   **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**:
    - –ë–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è (Canny / Otsu / Background Subtraction / Distance Transform),
    - –ú–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞,
    - –ù–∞–¥—ë–∂–Ω–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞ —Å —Ç—Ä–æ–π–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π.
*   **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø—Ä–µ—Ñ–æ—Ä–º—ã**: –ü–æ–≤–æ—Ä–æ—Ç –ø–æ –≥–ª–∞–≤–Ω–æ–π –æ—Å–∏ —Å –ø–æ–º–æ—â—å—é PCA –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∏–Ω–∞—Ä–Ω–æ–π –º–∞—Å–∫–∏.
*   **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏**:
    - **–ë–µ–∑ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Å –∫–∞–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –≥–æ—Ä–ª—ã—à–∫–æ (`"neck_left"` / `"neck_right"`),
    - –≠—Ç–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ—Ä–µ–Ω–∏–∏ –¥–Ω–∞ –∏ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏.
*   **–ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤**:
    *   **–î–ª–∏–Ω–∞ (L)** –∏ **—à–∏—Ä–∏–Ω–∞ (Z)** ‚Äî –ø–æ –≥–∞–±–∞—Ä–∏—Ç–Ω—ã–º —Ç–æ—á–∫–∞–º –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞,
    *   **–î–∏–∞–º–µ—Ç—Ä –¥–Ω–∞ (d1)** ‚Äî –≤ –∑–æ–Ω–µ –¥–Ω–∞ (—Å–ª–µ–≤–∞ –∏–ª–∏ —Å–ø—Ä–∞–≤–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏) —Å –ø–æ–∏—Å–∫–æ–º –ø–µ—Ä–≤–æ–≥–æ –º–∞–∫—Å–∏–º—É–º–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—á–µ–Ω–∏—è,
    *   **–ü—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å –æ—Å–∏ (S)** ‚Äî –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π –æ—Å–∏ (–ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ —Ü–µ–Ω—Ç—Ä–∞–º —Å–µ—á–µ–Ω–∏–π) –æ—Ç –∏–¥–µ–∞–ª—å–Ω–æ–π –ø—Ä—è–º–æ–π:
        - `S_max` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ,
        - `S_rms` ‚Äî —Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ,
        - **–ì–æ—Ä–ª—ã—à–∫–æ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 20% –¥–ª–∏–Ω—ã) –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ —Ä–∞—Å—á—ë—Ç–∞**.
*   **–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞**: –ü–µ—Ä–µ–≤–æ–¥ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑ –ø–∏–∫—Å–µ–ª–µ–π –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä—ã.
*   **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**:
    *   –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —ç—Ç–∞–ø–∞—Ö –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è, –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è, –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏,
    *   CAD-–ø–æ–¥–æ–±–Ω—ã–π —á–µ—Ä—Ç—ë–∂ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ **L, Z, d1**,
    *   –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ —Å –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–µ–π –ø—Ä—è–º–æ–π, —Ü–µ–Ω—Ç—Ä–∞–º–∏ —Å–µ—á–µ–Ω–∏–π, –≥—Ä–∞–Ω–∏—Ü–µ–π –≥–æ—Ä–ª—ã—à–∫–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ `S_max`/`S_rms`.
*   **–°—Ç—Ä–æ–≥–∞—è –æ—Ç–±—Ä–∞–∫–æ–≤–∫–∞**:
    - –ü—Ä–µ—Ñ–æ—Ä–º–∞ –æ—Ç–±—Ä–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏:
        - –ö–æ–Ω—Ç—É—Ä –∫–∞—Å–∞–µ—Ç—Å—è –≥—Ä–∞–Ω–∏—Ü—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å –æ—Ç—Å—Ç—É–ø–æ–º 2 –ø–∏–∫—Å–µ–ª—è),
        - –ü–ª–æ—â–∞–¥—å –º–µ–Ω—å—à–µ –ø–æ—Ä–æ–≥–∞,
        - –û–±—ä–µ–∫—Ç –Ω–µ –≤—ã—Ç—è–Ω—É—Ç—ã–π (aspect ratio < 2.0).
*   **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã –æ—Ç–±—Ä–∞–∫–æ–≤–∫–∏ –∏–ª–∏ –æ—à–∏–±–∫–∏.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```text
pet_preform_inspector/
‚îú‚îÄ‚îÄ analysis/                  # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ analyzer.py            # –û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ (–±–µ–∑ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞ –∫–æ–Ω—Ç—É—Ä–∞)
‚îú‚îÄ‚îÄ measurement/               # –õ–æ–≥–∏–∫–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ geometry.py            # –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞ –ø–æ PCA (–Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ measuring_size.py      # –ò–∑–º–µ—Ä–µ–Ω–∏–µ L, Z, d1, S —Å —É—á—ë—Ç–æ–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ orientation.py         # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ (–±–µ–∑ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞)
‚îú‚îÄ‚îÄ preprocessing/             # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ contour_detector.py    # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞ —Å —Ç—Ä–æ–π–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ dense_contour.py       # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–ª–æ—Ç–Ω–æ–≥–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ visualization/             # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ contour_alignment_viz.py   # –û—Ç–ª–∞–¥–∫–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è (–Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ)
‚îÇ   ‚îú‚îÄ‚îÄ annotated_result_viz.py    # –ß–µ—Ä—Ç—ë–∂ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ (L, Z, d1)
‚îÇ   ‚îî‚îÄ‚îÄ straightness_viz.py        # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ (S_max, S_rms)
‚îú‚îÄ‚îÄ settings/                  # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–µ—Ñ–æ—Ä–º
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ preform_setup.py       # –¢–∏–ø –ø—Ä–µ—Ñ–æ—Ä–º—ã –∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
‚îú‚îÄ‚îÄ config.py                  # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ñ–ª–∞–≥–∏ –æ—Ç–ª–∞–¥–∫–∏
‚îú‚îÄ‚îÄ data_loader.py             # –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ input_images/
‚îú‚îÄ‚îÄ utils.py                   # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ main.py                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ preform_configs.json       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –¥–æ–ø—É—Å–∫–æ–≤
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ input_images/              # üì• –ü–∞–ø–∫–∞ –¥–ª—è –≤—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
‚îú‚îÄ‚îÄ debug_output/              # üñºÔ∏è –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ logs/                      # üìù –õ–æ–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ output_results/            # üì§ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

‚ùó –ü–∞–ø–∫–∏ `input_images/`, `debug_output/`, `logs/`, `output_results/` **–Ω–µ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** (—É–∫–∞–∑–∞–Ω—ã –≤ `.gitignore`).

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```bash
   git clone https://github.com/your_username/pet_preform_inspector.git
   cd pet_preform_inspector
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/macOS
   venv\Scripts\activate     # Windows
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   pip install -r requirements.txt
   ```

4. **–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ**:
   - –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `input_images` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.
   - –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–µ—Ñ–æ—Ä–º –≤ —ç—Ç—É –ø–∞–ø–∫—É.
   - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `preform_configs.json`.

5. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑**:
   ```bash
   python main.py
   ```

## üìÇ –í—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –¢–∏–ø | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|------|----------|
| **–í—Ö–æ–¥** | `input_images/` | –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–µ—Ñ–æ—Ä–º (`.jpg`, `.png`, `.bmp`) |
| **–í—ã—Ö–æ–¥** | `output_results/` | –ò—Ç–æ–≥–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏ (`*_result.jpg`) |
| **–û—Ç–ª–∞–¥–∫–∞** | `debug_output/` | –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã —Ñ–ª–∞–≥–∏):<br>‚Äì `*_REJECTED.jpg`<br>‚Äì `*_09_aligned_contour_debug.jpg`<br>‚Äì `*_10_size_visualization.jpg`<br>‚Äì `*_10_straightness.jpg` |
| **–õ–æ–≥–∏** | `logs/` | –§–∞–π–ª—ã –ª–æ–≥–æ–≤ —Å –≤—Ä–µ–º–µ–Ω–Ω–æ–π –º–µ—Ç–∫–æ–π |

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚Äî `config.py`
- `BINARY_METHOD`: `"CANNY"`, `"OTSU"`, `"BACKGROUND_SUB_CANNY"`, `"DISTANCE_TRANSFORM"`
- `MIN_CONTOUR_AREA`: –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥—å –∫–æ–Ω—Ç—É—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ~1000)
- `EPSILON_FACTOR`: —Å—Ç–µ–ø–µ–Ω—å –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ –∫–æ–Ω—Ç—É—Ä–∞
- –§–ª–∞–≥–∏ –æ—Ç–ª–∞–¥–∫–∏:
  ```python
  STEP_1_DETECT_CONTOUR = True      # –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞
  STEP_2_ALIGN_CONTOUR = True       # –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ
  STEP_3_MEASURE_DIMENSIONS = True  # –ß–µ—Ä—Ç—ë–∂ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏
  STEP_10_STRAIGHTNESS = True       # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏
  ```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–µ—Ñ–æ—Ä–º ‚Äî `preform_configs.json`
```json
{
  "preform_types": {
    "type_A": {
      "dimensions": {
        "length": {"nominal": 142.0, "tolerance": 0.50},
        "width": {"nominal": 42.00, "tolerance": 0.30},
        ...
      }
    }
  }
}
```

### 3. –í—ã–±–æ—Ä —Ç–∏–ø–∞ –ø—Ä–µ—Ñ–æ—Ä–º—ã ‚Äî `settings/preform_setup.py`
```python
PREFORM_TYPE = "type_A"  # –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª—é—á–æ–º –≤ preform_configs.json
CALIBRATION_PPM = 14.2   # –ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –º–∏–ª–ª–∏–º–µ—Ç—Ä (pixels_per_mm)
```

## üß™ –û—Ç–ª–∞–¥–∫–∞

–í–∫–ª—é—á–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —ç—Ç–∞–ø—ã –≤ `config.py`. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `debug_output/`:

- `*_REJECTED.jpg` ‚Äî –µ—Å–ª–∏ –ø—Ä–µ—Ñ–æ—Ä–º–∞ –æ—Ç–±—Ä–∞–∫–æ–≤–∞–Ω–∞ (—á–∞—Å—Ç—å –≤–Ω–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è),
- `*_01_gray.jpg`, `*_02_blurred.jpg`, `*_06_binary_*.jpg`, `*_07_all_contours.jpg` ‚Äî —ç—Ç–∞–ø—ã –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏,
- `*_09_aligned_contour_debug.jpg` ‚Äî –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏,
- `*_10_size_visualization.jpg` ‚Äî —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —á–µ—Ä—Ç—ë–∂ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ **L, Z, d1**,
- `*_10_straightness.jpg` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ —Å **S_max**, **S_rms**, –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–µ–π –ø—Ä—è–º–æ–π –∏ –≥—Ä–∞–Ω–∏—Ü–µ–π –≥–æ—Ä–ª—ã—à–∫–∞.

> üí° **–°–æ–≤–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `STEP_1_DETECT_CONTOUR = True`, —á—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –ø—Ä–µ—Ñ–æ—Ä–º–∞ –æ—Ç–±—Ä–∞–∫–æ–≤–∞–Ω–∞.

## üìö –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `opencv-python >= 4.8.0`
- `numpy >= 1.24.0`
- `scikit-learn >= 1.3.0` (—Ç–æ–ª—å–∫–æ –¥–ª—è PCA –≤ `geometry.py`)
- `loguru >= 0.7.2`

## üìù –ê–≤—Ç–æ—Ä

–ê–Ω–¥—Ä–µ–π –ë—ã–∫–æ–≤

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---
