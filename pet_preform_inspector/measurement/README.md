
---

## üìÅ `measurement/`

–ú–æ–¥—É–ª—å `measurement` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è**, **–≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞** –∏ **–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏** –ø—Ä–µ—Ñ–æ—Ä–º—ã. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç—É—Ä–∞–º–∏, –Ω–æ **–Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –¥–µ—Ñ–µ–∫—Ç–æ–≤** (—ç—Ç–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–ª–æ–∂–µ–Ω–∞).

---

### üìÑ `measurement/geometry.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞ –ø–æ –≥–ª–∞–≤–Ω–æ–π –æ—Å–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PCA –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∏–Ω–∞—Ä–Ω–æ–π –º–∞—Å–∫–∏ –æ–±—ä–µ–∫—Ç–∞.

#### üîß –§—É–Ω–∫—Ü–∏–∏

*   **`align_contour(approx: np.ndarray, mask: np.ndarray) -> Tuple[np.ndarray, float, int, int, np.ndarray]`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç—É—Ä –ø—Ä–µ—Ñ–æ—Ä–º—ã –ø–æ –µ–≥–æ –≥–ª–∞–≤–Ω–æ–π –æ—Å–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ PCA, –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω–æ–≥–æ –∫ –ø–∏–∫—Å–µ–ª—è–º –º–∞—Å–∫–∏. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–º–µ—Ä–µ–Ω–∏—è.
    *   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
        *   `approx` (np.ndarray): –ê–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—É—Ä `(Nx1x2)`.
        *   `mask` (np.ndarray): –ë–∏–Ω–∞—Ä–Ω–∞—è –º–∞—Å–∫–∞ –æ–±—ä–µ–∫—Ç–∞ `(HxW)`.
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
        *   `aligned_contour` ‚Äî –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—É—Ä `(Nx1x2)`,
        *   `angle_deg` ‚Äî —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ –≤ –≥—Ä–∞–¥—É—Å–∞—Ö,
        *   `cx`, `cy` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–æ–∏–¥–∞ –º–∞—Å–∫–∏,
        *   `rot_mat` ‚Äî –º–∞—Ç—Ä–∏—Ü–∞ –∞—Ñ—Ñ–∏–Ω–Ω–æ–≥–æ –ø–æ–≤–æ—Ä–æ—Ç–∞ `(2√ó3)` –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –ø–ª–æ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞.

> ‚ö†Ô∏è **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è **–Ω–µ –∏–∑–º–µ—Ä—è–µ—Ç —Ä–∞–∑–º–µ—Ä—ã** –∏ **–Ω–µ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—é** ‚Äî —Ç–æ–ª—å–∫–æ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –ø–æ –≥–ª–∞–≤–Ω–æ–π –æ—Å–∏.

---

### üìÑ `measurement/measuring_size.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–º–µ—Ä–µ–Ω–∏–µ –≥–∞–±–∞—Ä–∏—Ç–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ (L, Z), –¥–∏–∞–º–µ—Ç—Ä–∞ –¥–Ω–∞ (d1) –∏ **–ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ –æ—Å–∏ (S)** –ø–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–º—É –∫–æ–Ω—Ç—É—Ä—É —Å —É—á—ë—Ç–æ–º –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.

#### üîß –§—É–Ω–∫—Ü–∏–∏

*   **`get_extreme_points(aligned_approx: np.ndarray) -> Dict[str, Tuple[int, int]]`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞—Ö–æ–¥–∏—Ç 4 –≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—É—Ä–∞: `leftmost`, `rightmost`, `topmost`, `bottommost`.
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ª–æ–≤–∞—Ä—å —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ —Ç–æ—á–µ–∫.

*   **`measure_gabarits(aligned_approx: np.ndarray, pixels_per_mm: Optional[float] = None) -> Dict`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ—Ä—è–µ—Ç **–¥–ª–∏–Ω—É (L)** –∏ **—à–∏—Ä–∏–Ω—É (Z)** –ø—Ä–µ—Ñ–æ—Ä–º—ã –ø–æ –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–æ–º—É –∫–æ–Ω—Ç—É—Ä—É.
    *   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
        *   `aligned_approx` ‚Äî –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—É—Ä `(Nx1x2)`,
        *   `pixels_per_mm` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ª–æ–≤–∞—Ä—å —Å:
        - `extreme_points` ‚Äî –≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ —Ç–æ—á–∫–∏,
        - `dimensions_px` ‚Äî —Ä–∞–∑–º–µ—Ä—ã –≤ –ø–∏–∫—Å–µ–ª—è—Ö (`L_px`, `Z_px`),
        - `dimensions_mm` ‚Äî —Ä–∞–∑–º–µ—Ä—ã –≤ –º–∏–ª–ª–∏–º–µ—Ç—Ä–∞—Ö (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω `pixels_per_mm`).

*   **`measure_bottom_diameter(aligned_contour: np.ndarray, pixels_per_mm: Optional[float] = None, orientation: str = "neck_right") -> Dict`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ—Ä—è–µ—Ç **–¥–∏–∞–º–µ—Ç—Ä –¥–Ω–∞ (d1)** –≤ –∑–æ–Ω–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –¥–Ω—É ‚Äî —Å–ª–µ–≤–∞ –ø—Ä–∏ `orientation="neck_right"` –∏ —Å–ø—Ä–∞–≤–∞ –ø—Ä–∏ `orientation="neck_left"`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–∏—Å–∫ –ø–µ—Ä–≤–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–≥–æ –¥–∏–∞–º–µ—Ç—Ä–∞ –≤ 15‚Äì25% –¥–ª–∏–Ω—ã –ø—Ä–µ—Ñ–æ—Ä–º—ã –æ—Ç –∫—Ä–∞—è –¥–Ω–∞.
    *   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
        *   `aligned_contour` ‚Äî –ø–ª–æ—Ç–Ω—ã–π –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—É—Ä `(Nx1x2)`,
        *   `pixels_per_mm` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ),
        *   `orientation` ‚Äî `"neck_right"` (–¥–Ω–æ —Å–ª–µ–≤–∞) –∏–ª–∏ `"neck_left"` (–¥–Ω–æ —Å–ø—Ä–∞–≤–∞).
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ª–æ–≤–∞—Ä—å —Å:
        - `bottom_points` ‚Äî —Ç–æ—á–∫–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è (`top_pt`, `bottom_pt`),
        - `x_level` ‚Äî X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ —Å–µ—á–µ–Ω–∏—è –∏–∑–º–µ—Ä–µ–Ω–∏—è,
        - `dimensions_px` ‚Äî `d1_px`,
        - `dimensions_mm` ‚Äî `d1_mm` (–µ—Å–ª–∏ –∑–∞–¥–∞–Ω `pixels_per_mm`).

*   **`measure_straightness_deviation(aligned_contour: np.ndarray, pixels_per_mm: float = 1.0, neck_percentage: float = 0.2) -> Dict[str, Any]`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ—Ä—è–µ—Ç **–ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç—å –æ—Å–∏ –ø—Ä–µ—Ñ–æ—Ä–º—ã** –∫–∞–∫ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –µ—ë —Ä–µ–∞–ª—å–Ω–æ–π –æ—Å–µ–≤–æ–π –ª–∏–Ω–∏–∏ –æ—Ç –∏–¥–µ–∞–ª—å–Ω–æ–π –ø—Ä—è–º–æ–π.
      –†–µ–∞–ª—å–Ω–∞—è –æ—Å—å —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ **—Å–µ—Ä–µ–¥–∏–Ω–∞–º —Å–µ—á–µ–Ω–∏–π** (—Å—Ä–µ–¥–Ω–µ–µ –º–µ–∂–¥—É –≤–µ—Ä—Ö–Ω–µ–π –∏ –Ω–∏–∂–Ω–µ–π —Ç–æ—á–∫–∞–º–∏ –∫–æ–Ω—Ç—É—Ä–∞).
      –î–ª—è –∞–ø–ø—Ä–æ–∫—Å–∏–º–∞—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–º–µ—Ç–æ–¥ –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ (–ú–ù–ö)**.
      **–ì–æ—Ä–ª—ã—à–∫–æ (–ø–æ—Å–ª–µ–¥–Ω–∏–µ `neck_percentage` –¥–ª–∏–Ω—ã) –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è –∏–∑ –∏–∑–º–µ—Ä–µ–Ω–∏—è**, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –∏–º–µ–µ—Ç –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ–π –æ—Å–∏.
    *   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
        *   `aligned_contour` ‚Äî –ø–ª–æ—Ç–Ω—ã–π –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—É—Ä `(Nx1x2)`,
        *   `pixels_per_mm` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏,
        *   `neck_percentage` ‚Äî –¥–æ–ª—è –¥–ª–∏–Ω—ã –ø—Ä–µ—Ñ–æ—Ä–º—ã, –∏—Å–∫–ª—é—á–∞–µ–º–∞—è —Å –∫—Ä–∞—è –≥–æ—Ä–ª—ã—à–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.2 = 20%).
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ª–æ–≤–∞—Ä—å —Å:
        - `straightness_deviation_mm` ‚Äî **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (S_max)** –≤ –º–º,
        - `straightness_rms_mm` ‚Äî **—Å—Ä–µ–¥–Ω–µ–∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ (S_rms)** –≤ –º–º,
        - `max_deviation_point` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ç–æ—á–∫–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è,
        - `line_coefficients` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∞–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä—É—é—â–µ–π –ø—Ä—è–º–æ–π (`a`, `b` –¥–ª—è `y = ax + b`),
        - `slice_centers` ‚Äî —Å–ø–∏—Å–æ–∫ —Ü–µ–Ω—Ç—Ä–æ–≤ —Å–µ—á–µ–Ω–∏–π –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏,
        - `neck_start_x` ‚Äî X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –≥–æ—Ä–ª—ã—à–∫–∞ (–¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏).

*   **`flip_contour_180(contour: np.ndarray, center_x: float, center_y: float) -> np.ndarray`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ –∫–æ–Ω—Ç—É—Ä–∞ –Ω–∞ 180¬∞ –≤–æ–∫—Ä—É–≥ –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞. **–í –æ—Å–Ω–æ–≤–Ω–æ–º pipeline –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**, –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –æ—Ç–ª–∞–¥–∫–∏.

---

### üìÑ `measurement/orientation.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –ø—Ä–µ—Ñ–æ—Ä–º—ã (–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ä–ª—ã—à–∫–∞) **–±–µ–∑ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞ –∫–æ–Ω—Ç—É—Ä–∞**.

#### üîß –§—É–Ω–∫—Ü–∏–∏

*   **`determine_neck_orientation(extreme_points: dict, cx: float, cy: float, image_id: str = "unknown") -> str`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª–æ–∂–µ–Ω–∏–µ –≥–∞–±–∞—Ä–∏—Ç–Ω—ã—Ö —Ç–æ—á–µ–∫ (`topmost`, `bottommost`) –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ü–µ–Ω—Ç—Ä–∞ –º–∞—Å—Å –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —Å –∫–∞–∫–æ–π —Å—Ç–æ—Ä–æ–Ω—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≥–æ—Ä–ª—ã—à–∫–æ.
    *   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
        *   `extreme_points` ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç `get_extreme_points`,
        *   `cx`, `cy` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ –º–∞—Å—Å,
        *   `image_id` ‚Äî –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è.
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
        - `"neck_right"` ‚Äî –≥–æ—Ä–ª—ã—à–∫–æ —Å–ø—Ä–∞–≤–∞ (–¥–Ω–æ —Å–ª–µ–≤–∞),
        - `"neck_left"` ‚Äî –≥–æ—Ä–ª—ã—à–∫–æ —Å–ª–µ–≤–∞ (–¥–Ω–æ —Å–ø—Ä–∞–≤–∞).

*   **`ensure_correct_orientation(...)`**
    *   **–°—Ç–∞—Ç—É—Å:** **–£—Å—Ç–∞—Ä–µ–≤—à–∞—è —Ñ—É–Ω–∫—Ü–∏—è**. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –Ω–æ **–Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º pipeline** (`analyzer.py`). –†–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞ –∫–æ–Ω—Ç—É—Ä–∞, –µ—Å–ª–∏ –≥–æ—Ä–ª—ã—à–∫–æ —Å–ª–µ–≤–∞.

*   **`apply_180_flip(contour: np.ndarray, cx: float, cy: float) -> np.ndarray`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–≤–æ—Ä–æ—Ç–∞ –Ω–∞ 180¬∞. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∞–Ω–∞–ª–∏–∑–µ**, –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏–ª–∏ –±—É–¥—É—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.

---

### üìå –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π

- **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `measure_straightness_deviation`**: —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä—è–º–æ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏ –æ—Å–∏ –ø—Ä–µ—Ñ–æ—Ä–º—ã —Å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º –≥–æ—Ä–ª—ã—à–∫–∞ –∏ —Ä–∞—Å—á—ë—Ç–æ–º –¥–≤—É—Ö –º–µ—Ç—Ä–∏–∫ ‚Äî `S_max` –∏ `S_rms`.
---