---

## üìÅ `settings/`

–ú–æ–¥—É–ª—å `settings` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ **–∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–µ—Ñ–æ—Ä–º—ã**. –û–Ω —Å–≤—è–∑—ã–≤–∞–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (`config.py`) —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ `preform_configs.json`.

---

### üìÑ `settings/preform_setup.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–µ—Ñ–æ—Ä–º—ã –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏.

#### üîß –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã

*   **`PREFORM_TYPE`** (`str`): –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–µ—Ñ–æ—Ä–º—ã (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª—é—á–æ–º –≤ `preform_configs.json`).
*   **`CALIBRATION_PPM`** (`float`): –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (–ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –º–∏–ª–ª–∏–º–µ—Ç—Ä).

#### üîß –§—É–Ω–∫—Ü–∏–∏

*   **`get_active_dimensions() -> dict`**
    *   **–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–º–µ—Ä–æ–≤ –¥–ª—è **–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç–∏–ø–∞ –ø—Ä–µ—Ñ–æ—Ä–º—ã** (`PREFORM_TYPE`) –∏–∑ —Ñ–∞–π–ª–∞ `preform_configs.json`.
    *   **–ê—Ä–≥—É–º–µ–Ω—Ç—ã:** –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –º–æ–¥—É–ª—è).
    *   **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –°–ª–æ–≤–∞—Ä—å —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤–∏–¥–∞:
        ```python
        {
            "length": {"nominal": 142.0, "tolerance": 0.50},
            "width": {"nominal": 42.00, "tolerance": 0.30},
            ...
        }
        ```
    *   **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
        - `ERROR`: —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞ JSON,
        - `ERROR`: —Ç–∏–ø –ø—Ä–µ—Ñ–æ—Ä–º—ã –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏,
        - `INFO`: —É—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**:
> - –§—É–Ω–∫—Ü–∏—è **–Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `preform_type_id`** ‚Äî —Ç–∏–ø –∑–∞–¥–∞—ë—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π `PREFORM_TYPE`.
> - –§—É–Ω–∫—Ü–∏—è **`list_available_configs()` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.

---

### üìÑ `settings/__init__.py`

–ú–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:

```python
# settings/__init__.py
from .preform_setup import get_active_dimensions, PREFORM_TYPE, CALIBRATION_PPM

__all__ = ["get_active_dimensions", "PREFORM_TYPE", "CALIBRATION_PPM"]
```

---

### üìÑ `preform_configs.json`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏ –¥–æ–ø—É—Å–∫–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ø—Ä–µ—Ñ–æ—Ä–º.

#### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

```json
{
  "preform_types": {
    "standard_type_A": {
      "name": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–µ—Ñ–æ—Ä–º–∞ A",
      "dimensions": {
        "length": {"nominal": 142.0, "tolerance": 0.50},
        "width": {"nominal": 42.00, "tolerance": 0.30},
        "neck_diameter": {"nominal": 33.4, "tolerance": 0.12},
        "bottom_diameter": {"nominal": 38.34, "tolerance": 0.27},
        "max_deviation": {"nominal": 0.0, "tolerance": 0.8}
      }
    }
  }
}
```

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `neck_diameter` –∏ `max_deviation` –≤ JSON, **–∏—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã** –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏.

---

## üìÑ `config.py` (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—É—Ç–µ–π, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ñ–ª–∞–≥–æ–≤ –æ—Ç–ª–∞–¥–∫–∏.

#### üìÇ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

*   **–ü—É—Ç–∏ (–≤—Å–µ –∫–∞–∫ `pathlib.Path`):**
    - `BASE_PATH`: –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞,
    - `OUTPUT_FOLDER = BASE_PATH / "output_results"`,
    - `LOGS_FOLDER = BASE_PATH / "logs"`.

*   **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
    - `MIN_CONTOUR_AREA`, `EPSILON_FACTOR`,
    - `BINARY_METHOD` (`"CANNY"` –∏–ª–∏ `"OTSU"`),
    - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏ –º–æ—Ä—Ñ–æ–ª–æ–≥–∏–∏ (–∫–∞–∫ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ).

*   **–§–ª–∞–≥–∏ –æ—Ç–ª–∞–¥–∫–∏ (–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ):**
    - `STEP_1_DETECT_CONTOUR` ‚Äî –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–∞,
    - `STEP_2_ALIGN_CONTOUR` ‚Äî –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ,
    - `STEP_3_MEASURE_DIMENSIONS` ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ —á–µ—Ä—Ç—ë–∂,
    - `STEP_5_SAVE_RESULT` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.
